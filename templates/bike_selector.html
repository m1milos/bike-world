{% extends "base.html" %}

{% block title %}Bike Selector - Bike World{% endblock %}

{% block content %}
<h1 class="mb-4">Bike Selector</h1>
<p class="lead">Our interactive bike selector tool helps you find the perfect bike based on your preferences and needs. Simply answer a few questions, and we'll recommend the best bike for you!</p>

<form action="{{ url_for('bike_selector') }}" method="POST">
    <div class="mb-3">
        <label for="bike_type" class="form-label">What type of bike are you interested in?</label>
        <select class="form-select" id="bike_type" name="bike_type" required>
            <option value="">Choose...</option>
            <option value="road">Road Bike</option>
            <option value="mountain">Mountain Bike</option>
            <option value="hybrid">Hybrid Bike</option>
            <option value="cruiser">Cruiser Bike</option>
            <option value="electric">Electric Bike</option>
        </select>
    </div>
    <div class="mb-3">
        <label for="suspension_type" class="form-label">Preferred suspension type (if applicable)</label>
        <select class="form-select" id="suspension_type" name="suspension_type">
            <option value="">Choose...</option>
            <option value="dual">Dual Suspension</option>
            <option value="hardtail">Hardtail</option>
            <option value="no_suspension">No Suspension</option>
        </select>
    </div>
    <div class="mb-3">
        <label for="riding_surface" class="form-label">What surface do you plan to ride on most?</label>
        <select class="form-select" id="riding_surface" name="riding_surface" required>
            <option value="">Choose...</option>
            <option value="road">Paved roads</option>
            <option value="off_road">Off-road trails</option>
            <option value="mixed">Mixed terrain</option>
            <option value="urban">Urban streets</option>
            <option value="gravel">Gravel roads</option>
            <option value="bike_park">Bike park</option>
        </select>
    </div>
    <div class="mb-3">
        <label for="primary_use" class="form-label">What's your primary use for the bike?</label>
        <select class="form-select" id="primary_use" name="primary_use" required>
            <option value="">Choose...</option>
            <option value="commuting">Commuting</option>
            <option value="exercise">Exercise and fitness</option>
            <option value="leisure">Leisure rides</option>
            <option value="racing">Racing</option>
            <option value="touring">Touring</option>
            <option value="mountain_biking">Mountain biking</option>
            <option value="trick_riding">Trick riding</option>
        </select>
    </div>
    <div class="mb-3">
        <label for="wheel_size" class="form-label">Preferred wheel size</label>
        <select class="form-select" id="wheel_size" name="wheel_size" required>
            <option value="">Choose...</option>
            <option value="16">16 inches (Children's Bike)</option>
            <option value="20">20 inches (BMX/Children's Bike)</option>
            <option value="24">24 inches (Junior Bike)</option>
            <option value="26">26 inches (Adult Mountain Bike)</option>
            <option value="27.5">27.5 inches (Adult Mountain Bike)</option>
            <option value="29">29 inches (Adult Mountain Bike)</option>
            <option value="700c">700c (Road Bike/Hybrid)</option>
        </select>
    </div>
    <div class="mb-3">
        <label for="budget" class="form-label">What's your budget range?</label>
        <select class="form-select" id="budget" name="budget" required>
            <option value="">Choose...</option>
            <option value="low">Under $500</option>
            <option value="medium">$500 - $1000</option>
            <option value="high">Over $1000</option>
        </select>
    </div>
    <div class="mb-3 form-check">
        <input type="checkbox" class="form-check-input" id="electric_assist" name="electric_assist">
        <label class="form-check-label" for="electric_assist">I'm interested in electric assist</label>
    </div>
    <button type="submit" class="btn btn-primary">Find My Bike</button>
</form>

{% if recommended_bike %}
<div class="mt-5">
    <h2 class="display-4 mb-4">Recommended Bike</h2>
    <div class="card">
        <div class="card-body text-center">
            <h3 class="card-title display-3 mb-4">{{ recommended_bike.name }}</h3>
            {% if recommended_bike.images %}
                <div class="row">
                {% for image in recommended_bike.images %}
                    <div class="col-md-6">
                        <img src="{{ url_for('static', filename='images/' + image) }}" class="img-fluid rounded mb-4" alt="{{ recommended_bike.name }}">
                    </div>
                {% endfor %}
                </div>
            {% elif recommended_bike.image %}
                <img src="{{ url_for('static', filename='images/' + recommended_bike.image) }}" class="img-fluid rounded mb-4" alt="{{ recommended_bike.name }}" style="max-height: 400px; width: auto;">
            {% endif %}
            <p class="card-text lead">{{ recommended_bike.description }}</p>
        </div>
    </div>
</div>
{% endif %}

<div class="mt-5">
    <h2>Learn More About Bike Types</h2>
    <p>Not sure which type of bike suits your needs? Learn more about different bike types to make an informed decision:</p>
    <ul>
        <li><strong>Road Bikes:</strong> Designed for speed and efficiency on paved roads.</li>
        <li><strong>Mountain Bikes:</strong> Built for off-road cycling on rough terrain.</li>
        <li><strong>Hybrid Bikes:</strong> A versatile option combining features of road and mountain bikes.</li>
        <li><strong>Cruiser Bikes:</strong> Comfortable bikes for casual riding on flat surfaces.</li>
        <li><strong>Electric Bikes:</strong> Equipped with an electric motor for assisted pedaling.</li>
    </ul>
    <a href="{{ url_for('bike_types') }}" class="btn btn-secondary">Explore Bike Types in Detail</a>
</div>

{% endblock %}
